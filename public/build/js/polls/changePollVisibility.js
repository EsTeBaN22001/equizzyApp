const visibilityButton=document.querySelector(".visibility-poll-button");let pollState;async function getPublicState(){const t=new FormData;t.append("pollId",urlPoll);return await callFetch(domain+"/polls/get-public-state","POST",t)}getPublicState().then(t=>{pollState=t,1==t?(visibilityButton.classList.add("public"),visibilityButton.textContent="Público"):(visibilityButton.classList.add("private"),visibilityButton.textContent="Privado")}),visibilityButton.addEventListener("click",async()=>{const t=new FormData;t.append("pollId",urlPoll),t.append("state",pollState);const i=await callFetch(domain+"/polls/set-public-state","POST",t);pollState=i,1==i&&(visibilityButton.classList.remove("private"),visibilityButton.classList.add("public"),visibilityButton.textContent="Público"),0==i&&(visibilityButton.classList.remove("public"),visibilityButton.classList.add("private"),visibilityButton.textContent="Privado")});